<!DOCTYPE html>
<meta charset="utf-8">
<body>
    <div id="drawArea"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
<script src="sd.js"></script>
<script src="setupsvg.js"></script>
<script>
var objects = [];
for(var i = 0; i < 2; i++){
    objects.push({id: i, name: "object" + i, type: "Object" + i, invisible: false});
}

var groups = [];

var messages = [];
for(var i = 1; i < 1000; i++){
    messages.push({id: i, from: 0, to: 1, caller: null, message:"foo", isNew: false});
    messages.push({id: i, from: 0, to: -1, caller: null, message:"", isNew: false});
}

var elements = new sd.SDViewer(objects, groups, messages);
var result = elements.compress();
console.log(result);
element = new sd.SDViewer(objects, groups, result[1]);
element.setLoops(result[0]);
</script>
</body>
