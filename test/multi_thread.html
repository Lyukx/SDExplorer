<!DOCTYPE html>
<meta charset="utf-8">
<body>
    <div id="sdexplorer"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
<script src="../dest/sd.js"></script>
<script>

// 'type' attribute is optional. It can stand for class/package name in Java scenario
var objects = [{id: 0, name: "a", type: "A"},
               {id: 1, name: "b", type: "B"},
               {id: 2, name: "c"},
               {id: 3, name: "d"}];

var groups = [{id: 4, objs: [2,3], name:"CD"}];

// Messages with 'return: true' attribute is return message
var messages = [
  {thread: "main", id: 0, from: 0, to: 1, message: "foo()"},
  {thread: "side", id: 1, from: 1, to: 2, message: "bar()"},
  {thread: "ex", id: 2, from: 2, to: 0, message: "hoge()"},
  {thread: "ex", id: 2, return: true},
  {thread: "main", id: 3, from: 2, to: 3, message: "hogehoge()"},
  {thread: "main", id: 3, return: true},
  {thread: "main", id: 4, from: 2, to: 0, message: "hoge()"},
  {thread: "main", id: 4, return: true},
  {thread: "main", id: 5, from: 2, to: 3, message: "hogehoge()"},
  {thread: "main", id: 5, return: true},
  {thread: "main", id: 6, from: 2, to: 0, message: "hoge()"},
  {thread: "main", id: 6, return: true},
  {thread: "main", id: 7, from: 2, to: 3, message: "hogehoge()"},
  {thread: "main", id: 7, return: true},
  {thread: "side", id: 1, return: true},
  {thread: "main", id: 0, return: true}
];

var loops = [
  {
    represent: [2, 3],
    field: [2, 3, 4, 5, 6, 7],
    repeat: 3
  }
];

var graph = new sd.SDViewer({
  objects: objects,
  messages: messages,
  groups: groups,
  loops: loops,
  drawAreaId: "sdexplorer"
});
</script>
</body>
